<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ANIKANT 3D CINEMATIC AI SHOW</title>
<style>
body { margin:0; overflow:hidden; background:black; }
#label{
 position:absolute;
 top:20px;
 left:20px;
 color:#00ffff;
 font-size:30px;
 font-weight:bold;
 text-shadow:0 0 20px #00ffff;
}
</style>
</head>
<body>

<div id="label">AI FINGER SHOW</div>
<video id="video" style="display:none" playsinline></video>

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js"></script>

<script>
let scene,camera,renderer,textParticles,geometry,starField;
const COUNT=8000;
let target=new Float32Array(COUNT*3);
let lastMode=-1;

// ðŸ”Š SOUND
const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
function playSound(){
 const osc = audioCtx.createOscillator();
 const gain = audioCtx.createGain();
 osc.connect(gain);
 gain.connect(audioCtx.destination);
 osc.frequency.value = 400 + Math.random()*400;
 osc.type="sine";
 gain.gain.value=0.1;
 osc.start();
 osc.stop(audioCtx.currentTime+0.15);
}

// ðŸŒˆ RANDOM COLOR
function randomColor(){
 const color = new THREE.Color().setHSL(Math.random(),1,0.5);
 const attr = geometry.attributes.color;
 for(let i=0;i<COUNT;i++){
  attr.setXYZ(i,color.r,color.g,color.b);
 }
 attr.needsUpdate=true;
}

// â­ GALAXY BACKGROUND
function createGalaxy(){
 const starGeo = new THREE.BufferGeometry();
 const starCount=3000;
 const starPos=new Float32Array(starCount*3);
 for(let i=0;i<starCount;i++){
  starPos[i*3]=(Math.random()-0.5)*600;
  starPos[i*3+1]=(Math.random()-0.5)*600;
  starPos[i*3+2]=(Math.random()-0.5)*600;
 }
 starGeo.setAttribute("position",new THREE.BufferAttribute(starPos,3));
 const starMat=new THREE.PointsMaterial({size:1});
 starField=new THREE.Points(starGeo,starMat);
 scene.add(starField);
}

// ðŸ“ TEXT CREATE
function createText(text){
 const canvas=document.createElement("canvas");
 const ctx=canvas.getContext("2d");
 canvas.width=1000; canvas.height=250;
 ctx.fillStyle="white";
 ctx.font="bold 100px Arial";
 ctx.textAlign="center";
 ctx.fillText(text,500,150);
 const data=ctx.getImageData(0,0,1000,250).data;
 let pts=[];
 for(let y=0;y<250;y+=3){
  for(let x=0;x<1000;x+=3){
   if(data[(y*1000+x)*4]>128){
    pts.push({x:(x-500)*0.15,y:(125-y)*0.15});
   }
  }
 }
 const arr=new Float32Array(COUNT*3);
 for(let i=0;i<COUNT;i++){
  const p=pts[i%pts.length];
  arr[i*3]=p.x;
  arr[i*3+1]=p.y;
  arr[i*3+2]=(Math.random()-0.5)*5;
 }
 return arr;
}

function updateText(text){
 target.set(createText(text));
 document.getElementById("label").innerText="MODE: "+text;
 randomColor();
 playSound();
}

// ðŸŽ¥ INIT
function init(){
 scene=new THREE.Scene();
 camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,0.1,2000);
 camera.position.z=100;

 renderer=new THREE.WebGLRenderer({antialias:true});
 renderer.setSize(window.innerWidth,window.innerHeight);
 document.body.appendChild(renderer.domElement);

 createGalaxy();

 geometry=new THREE.BufferGeometry();
 const pos=createText("ANIKANT");
 target.set(pos);
 geometry.setAttribute("position",new THREE.BufferAttribute(new Float32Array(pos),3));

 const colors=new Float32Array(COUNT*3).fill(1);
 geometry.setAttribute("color",new THREE.BufferAttribute(colors,3));

 textParticles=new THREE.Points(geometry,new THREE.PointsMaterial({
  size:0.8,
  vertexColors:true,
  blending:THREE.AdditiveBlending,
  transparent:true
 }));
 scene.add(textParticles);
}

// âœ‹ FINGER COUNT
function countFingers(lm){
 let count=0;
 if(lm[8].y < lm[6].y) count++;
 if(lm[12].y < lm[10].y) count++;
 if(lm[16].y < lm[14].y) count++;
 if(lm[20].y < lm[18].y) count++;
 if(lm[4].x < lm[3].x) count++;
 return count;
}

const video=document.getElementById("video");
const hands=new Hands({locateFile:file=>`https://cdn.jsdelivr.net/npm/@mediapipe/hands/${file}`});
hands.setOptions({maxNumHands:1,minDetectionConfidence:0.7,minTrackingConfidence:0.7});

hands.onResults(results=>{
 if(results.multiHandLandmarks.length>0){
  const fingers=countFingers(results.multiHandLandmarks[0]);
  if(fingers!==lastMode){
   lastMode=fingers;
   if(fingers===1) updateText("ANIKANT");
   if(fingers===2) updateText("ARJAV");
   if(fingers===3) updateText("IPS COLLEGE");
   if(fingers===4) updateText("I LOVE YOU");
   if(fingers===5) updateText("THINK POSITIVE");
   if(fingers===6) updateText("JAIN POWER");
   if(fingers===7) updateText("SCIENCE EXPO");
   if(fingers===8) updateText("AI FUTURE");
   if(fingers===9) updateText("NEVER GIVE UP");
  }
 }
});

new Camera(video,{
 onFrame:async()=>{await hands.send({image:video});},
 width:640,height:480
}).start();

// ðŸŽ¬ ANIMATION
function animate(){
 requestAnimationFrame(animate);

 const pos=geometry.attributes.position;
 for(let i=0;i<COUNT;i++){
  const i3=i*3;
  pos.array[i3]+= (target[i3]-pos.array[i3])*0.07;
  pos.array[i3+1]+= (target[i3+1]-pos.array[i3+1])*0.07;
  pos.array[i3+2]+= (target[i3+2]-pos.array[i3+2])*0.07;
 }
 pos.needsUpdate=true;

 starField.rotation.y+=0.0005; // galaxy rotate
 camera.position.x=Math.sin(Date.now()*0.0005)*5; // cinematic camera
 camera.lookAt(scene.position);

 renderer.render(scene,camera);
}

init();
animate();
</script>

</body>
</html>
